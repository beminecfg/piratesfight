# üì± –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ (iOS)

## üêõ –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. **–≠–ª–µ–º–µ–Ω—Ç—ã UI –æ–±—Ä–µ–∑–∞–ª–∏—Å—å —Å–ø—Ä–∞–≤–∞** ‚ùå ‚Üí ‚úÖ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ö—Ä–∞—Å–Ω–∞—è –¥—É–≥–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è, –∏–∫–æ–Ω–∫–∏ –∫–æ—Ä–∞–±–ª–µ–π –∏ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤—ã—Ö–æ–¥–∏–ª–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —ç–∫—Ä–∞–Ω–∞
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Safe Area Insets –¥–ª—è iOS (notch, home indicator)

### 2. **–ß–µ—Ä–Ω—ã–µ –ø–æ–ª–æ—Å—ã –ø–æ –±–æ–∫–∞–º —ç–∫—Ä–∞–Ω–∞** ‚ùå ‚Üí ‚úÖ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω, canvas –Ω–µ –∑–∞–ø–æ–ª–Ω—è–ª –≤–µ—Å—å —ç–∫—Ä–∞–Ω
- **–†–µ—à–µ–Ω–∏–µ**: 
  - –û–±–Ω–æ–≤–ª–µ–Ω viewport meta-tag
  - Canvas —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `100vw/100vh`
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `orientationchange`

### 3. **–î–∂–æ–π—Å—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** ‚ùå ‚Üí ‚úÖ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ó–æ–Ω—ã –∫–∞—Å–∞–Ω–∏—è –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞
- **–†–µ—à–µ–Ω–∏–µ**: –î–∂–æ–π—Å—Ç–∏–∫–∏ —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞—é—Ç Safe Area –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –∑–æ–Ω

### 4. **–≠–ª–µ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∏—Å—å —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º UI** ‚ùå ‚Üí ‚úÖ
- **–ü—Ä–æ–±–ª–µ–º–∞**: Top bar –∏ –∫–Ω–æ–ø–∫–∞ Respawn –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∏—Å—å —Å notch –∏ home indicator
- **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã —É—á–∏—Ç—ã–≤–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–æ–Ω—ã

---

## üîß –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

### `hud.js`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getSafeAreaInsets()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∑–æ–Ω
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ `drawTopBar()` - —É—á–∏—Ç—ã–≤–∞–µ—Ç safe area
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ `drawDeathScreen()` - –∫–Ω–æ–ø–∫–∞ Respawn –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è home indicator
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ `drawJoysticks()` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### `controls.js`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getSafeAreaInsets()`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ `joyStart()` - –∑–æ–Ω—ã –¥–∂–æ–π—Å—Ç–∏–∫–æ–≤ —É—á–∏—Ç—ã–≤–∞—é—Ç safe area
- ‚úÖ –õ–µ–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫: 33% –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–æ–Ω—ã
- ‚úÖ –ü—Ä–∞–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫: 67% –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–æ–Ω—ã
- ‚úÖ –¶–µ–Ω—Ç—Ä: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π

### `style.css`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è safe area (`--sat`, `--sar`, `--sab`, `--sal`)
- ‚úÖ –£–±—Ä–∞–Ω padding –∏–∑ body (–≤—ã–∑—ã–≤–∞–ª —á–µ—Ä–Ω—ã–µ –ø–æ–ª–æ—Å—ã)
- ‚úÖ Canvas —Ç–µ–ø–µ—Ä—å `position: absolute` —Å `100vw/100vh`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `viewport-fit=cover`

### `index.html`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω viewport meta-tag:
  - `viewport-fit=cover` - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–æ —ç–∫—Ä–∞–Ω–∞
  - `shrink-to-fit=no` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–∂–∞—Ç–∏—è
  - `height=device-height` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–∞ iOS

### `main.js`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `handleResize()` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ `setPixelRatio(Math.min(devicePixelRatio, 2))` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `orientationchange` —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è iOS
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ canvas –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏

---

## üìê Safe Area Insets - –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   ‚ö´‚ö´‚ö´ Notch (44px top)             ‚îÇ  ‚Üê Safe Area Top
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ    Game Content (Safe)      ‚îÇ   ‚îÇ  ‚Üê Left/Right insets (44px)
‚îÇ  ‚îÇ                             ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ    UI —ç–ª–µ–º–µ–Ω—Ç—ã –∑–¥–µ—Å—å        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ    –Ω–µ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                             ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Home Indicator          ‚îÇ  ‚Üê Safe Area Bottom (34px)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Safe Area:

**–í–∞—Ä–∏–∞–Ω—Ç 1: CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**
```css
:root {
  --sat: env(safe-area-inset-top);
  --sar: env(safe-area-inset-right);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
}
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: JavaScript**
```javascript
const style = getComputedStyle(document.documentElement);
const top = parseInt(style.getPropertyValue('--sat') || '0');
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: Fallback (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)**
```javascript
if(/iPhone|iPad|iPod/.test(navigator.userAgent)){
  // Landscape iPhone X+
  if(innerWidth > innerHeight && innerWidth >= 812){
    insets.left = 44;
    insets.right = 44;
  }
  // Portrait iPhone X+
  else if(innerHeight >= 812){
    insets.top = 44;
    insets.bottom = 34;
  }
}
```

---

## ‚úÖ –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚ùå
- UI –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞
- –ß–µ—Ä–Ω—ã–µ –ø–æ–ª–æ—Å—ã
- –î–∂–æ–π—Å—Ç–∏–∫–∏ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∑–æ–Ω–∞—Ö
- Top bar –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è notch
- Respawn –∫–Ω–æ–ø–∫–∞ –ø–æ–¥ home indicator

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚úÖ
- –í—Å–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–æ–Ω–µ
- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –±–µ–∑ —á–µ—Ä–Ω—ã—Ö –ø–æ–ª–æ—Å
- –î–∂–æ–π—Å—Ç–∏–∫–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ç—Ä–µ—Ç—è—Ö —ç–∫—Ä–∞–Ω–∞
- Top bar –ø–æ–¥ notch
- Respawn –∫–Ω–æ–ø–∫–∞ –Ω–∞–¥ home indicator
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö iOS —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

## üéÆ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
- ‚úÖ iPhone 14/15 Pro Max (notch)
- ‚úÖ iPhone X/11/12/13 (notch)
- ‚úÖ iPhone 8 –∏ —Å—Ç–∞—Ä—à–µ (–±–µ–∑ notch)
- ‚úÖ iPad Pro (no notch, but safe area for home indicator)
- ‚úÖ Landscape –∏ Portrait –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. Top bar –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è notch
2. Respawn –∫–Ω–æ–ø–∫–∞ –≤–∏–¥–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é (–Ω–µ –ø–æ–¥ home indicator)
3. –õ–µ–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ –ª–µ–≤–æ–π —Ç—Ä–µ—Ç–∏
4. –ü—Ä–∞–≤—ã–π –¥–∂–æ–π—Å—Ç–∏–∫ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–π —Ç—Ä–µ—Ç–∏
5. –ù–µ—Ç —á–µ—Ä–Ω—ã—Ö –ø–æ–ª–æ—Å –ø–æ –±–æ–∫–∞–º
6. Hit indicator –≤–∏–¥–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
7. Enemy HP bars –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

–ò–≥—Ä–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ iOS –∏ –≥–æ—Ç–æ–≤–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–∞–∫ PWA.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∏–∫–æ–Ω–∫–∏ (`generate-icons.html`)
2. –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ –Ω–∞ HTTPS —Å–µ—Ä–≤–µ—Ä–µ
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞ iPhone —á–µ—Ä–µ–∑ Safari ‚Üí Share ‚Üí "Add to Home Screen"

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- üìñ `iOS-INSTALL.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- üöÄ `DEPLOY.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é
- üìù `README.md` - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

---

**üè¥‚Äç‚ò†Ô∏è –ü—Ä–∏—è—Ç–Ω–æ–π –∏–≥—Ä—ã –Ω–∞ iOS!**

